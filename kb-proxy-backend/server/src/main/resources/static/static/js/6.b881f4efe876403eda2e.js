webpackJsonp([6],{"91P0":function(t,e,r){"use strict";e.a=function(t){return Object(i.a)({url:"/api/mock/proxy",method:"post",data:t})},e.d=function(t,e,r){var o={kw:t,page:e,size:r};return Object(i.a)({url:"/api/mock/proxy/_search",method:"get",params:o})},e.c=function(t){return Object(i.a)({url:"/api/mock/proxy/"+t,method:"get"})},e.b=function(t){return Object(i.a)({url:"/api/mock/proxy/"+t,method:"delete"})},e.e=function(t,e){return Object(i.a)({url:"/api/mock/proxy/"+t,method:"patch",data:e})};var i=r("Kkag")},Don4:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r("91P0"),o=r("iU8N"),n={name:"comp_domain_folder",data:function(){return{show:!0}},props:{folder:{type:Object,require:!0},children:{type:Array,require:!1},active:{type:Boolean,require:!1,default:!1}},methods:{render_collapse_icon:function(t){return t("q-icon",{props:{name:this.show?"arrow_drop_down":"arrow_right",size:"20px",color:this.active?"white":"deep-orange"}})},render_folder_icon:function(t){return t("q-icon",{props:{name:"tv",size:"20px",color:this.active?"white":"deep-orange"}})},render_desc:function(t){return t("div",{staticClass:"q-ml-md text-left row"},[t("div",{staticClass:"font-16 text-weight-bold",class:{"text-deep-orange":!this.active,"text-white":this.active},style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"noWrap"},attrs:{title:this.folder.name}},[this.folder.name]),t("div",{staticClass:"font-10 q-ml-md text-weight-bold",class:{"text-deep-orange":!this.active,"text-white":this.active},style:{marginTop:"2px"}},["(总计："+(this.children?this.children.length:0)+" ）"])])}},render:function(t){var e=this;return t("div",{staticClass:"font-14",style:{borderBottom:"1px solid var(--q-color-grey-4)"},on:{mouseout:function(){return e.show_more_btn=!1},mouseover:function(){return e.show_more_btn=!0}}},[t("div",{staticClass:"row items-center cursor-pointer",style:{width:"100%",minHeight:"50px"},class:{"bg-blue-5":this.active,"bg-grey-1":!this.active}},[t("div",{staticClass:"row items-center cursor-pointer col-grow q-pl-md",on:{click:function(){return e.show=!e.show}}},[this.render_collapse_icon(t),this.render_folder_icon(t),this.render_desc(t)]),t("div",{attrs:{hidden:!this.show_more_btn}},[])]),this.show?t("div",{},[this.$slots.content]):null])}},l=r("3bfZ"),s={0:{label:"禁用",value:0,color:"warning"},1:{label:"启用",value:1,color:"positive"}},a={name:"comp_collection_catalog",data:function(){return{collection_list:[],minId:0,kw:null,domain:null,collection:null,show_add_folder_input:!1,folder_name:null}},methods:{render_folder_list:function(t,e){var r=this;return t(n,{ref:"DomainFolder",props:{folder:{name:e.folder_name},children:e.children||[],active:this.folder_name===e.folder_name},nativeOn:{click:function(){return r.folder_name=e.folder_name}},on:{refresh:function(){return r.refresh_catalog()}}},[t("div",{slot:"content"},[this.render_detail_list(t,e.children)])])},render_detail_list:function(t,e){var r=this;return t("div",{},[e&&e.length>0?e.map(function(e){return[r.render_detail_item(t,e)]}):this.render_no_item(t)])},render_detail_item:function(t,e){var r=this;return t("div",{staticClass:" font-12 row flex cursor-pointer no-wrap q-pl-lg items-center pp-selected-bg-grey-2-hover",class:{"pp-selected-bg-grey-3":this.collection&&this.collection.id===e.id}},[t("div",{staticClass:"row no-wrap items-center col-grow q-pl-lg",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"noWrap",height:"36px",width:"100%"},on:{click:function(){return r.collection_select(e)}}},[t("div",{staticClass:"q-mr-sm font-10 text-left text-weight-bold text-"+o.c[e.method].color,style:{width:"40px"}},e.method),t("div",{staticClass:"q-mr-sm text-primary text-weight-bold text-left",style:{overflow:"hidden",textOverflow:"ellipsis",wordWrap:"break-word",width:"20%"}},e.name),t("div",{staticClass:"q-mr-sm text-faded text-weight-bold text-left",style:{overflow:"hidden",textOverflow:"ellipsis",wordWrap:"break-word",width:"40%"}},e.url),t("div",{staticClass:"q-mr-sm text-faded text-weight-bold text-left col-grow",style:{overflow:"hidden",textOverflow:"ellipsis",wordWrap:"break-word",width:"25%"}},e.description||"暂无描述"),t("div",{staticClass:"q-mr-sm text-weight-bold text-left text-"+s[e.is_used].color,style:{overflow:"hidden",textOverflow:"ellipsis",wordWrap:"break-word",width:"30px"}},[s[e.is_used].label]),t("div",{staticClass:"q-mr-sm text-faded text-weight-bold text-left",style:{overflow:"hidden",textOverflow:"ellipsis",wordWrap:"break-word",width:"120px"}},e.create_time)])])},render_no_item:function(t){return t("div",{staticClass:"row text-faded flex-center",style:{height:"36px"}},"")},refresh_catalog:function(t){var e=this,r=this;void 0!==t&&(this.kw=t),Object(i.d)(this.kw).then(function(t){r.collection_list=[],r.collection_list=r.collection_list.concat(e.deal_data_to_folder_list(t.data.data)||[])})},collection_select:function(t){this.collection=t,this.$router.push({path:"/mock/detail",query:{id:t.id}})},deal_data_to_folder_list:function(t){var e=[];return t.map(function(t){for(var r={},i=!1,o=0,n=0;n<e.length;n++)if(e[n].folder_name===t.domain){i=!0,o=n;break}if(i){var l=e[o].children;t.id&&l.push(t),r={id:t.id,children:l,folder_name:t.domain},e.splice(o,1,r)}else{var s=[];t.id&&s.push(t),r={id:t.id,children:s,folder_name:t.domain},e.push(r)}}),e},render_tools:function(t){var e=this;return t("div",{staticClass:"row items-center font-13 text-left",style:{height:"60px",width:"100%",marginLeft:"50px",zIndex:"1",position:"fixed",marginBottom:"40px",top:"50px",right:0,left:0,overflow:"hidden",backgroundColor:"white",boxShadow:"-3px 0px 6px 0px rgba(128, 128, 128, 0.56)"}},[t(l.a,{props:{placeholder:"请输入名称/URL链接"},staticClass:"pp-search-input q-mr-md q-ml-md q-mt-sm",style:{width:"300px"},on:{input:function(t){e.kw=t,e.refresh_catalog()}}}),t("q-btn",{staticClass:"pp-search-button no-shadow q-mt-sm",props:{label:"新增",color:"primary"},on:{click:function(){e.$router.push({path:"/mock/detail"})}}})])}},render:function(t){var e=this;return t("div",{},[this.render_tools(t),t("div",{style:{marginTop:"60px"}},[this.collection_list.length<=0?this.render_no_item(t):this.collection_list.map(function(r){return[e.render_folder_list(t,r)]})])])},mounted:function(){this.refresh_catalog()}};e.default={name:"mock_index",data:function(){return{}},methods:{},render:function(t){return t("div",{},[t(a)])}}}});
//# sourceMappingURL=6.b881f4efe876403eda2e.js.map